---
import { getTranslations, getLocalizedValue, type Locale } from '../../i18n';
import type { Specialist } from '../../types/specialist';
import WhatsAppButton from '../common/WhatsAppButton.vue';

interface Props {
  specialist: Specialist;
  locale: Locale;
}

const { specialist, locale } = Astro.props;
const t = getTranslations(locale);

const ctaTitle = getLocalizedValue(specialist.translations.ctaTitle, locale);
const description = getLocalizedValue(specialist.bio, locale);
---

<section class="py-16" style="background: var(--gradient-primary, var(--gradient-gold));">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl md:text-4xl font-display font-bold text-white mb-6">
      {ctaTitle}
    </h2>
    <p class="text-lg text-white/80 max-w-2xl mx-auto mb-8">
      {description}
    </p>
    <WhatsAppButton
      client:idle
      phone={specialist.contact.whatsapp}
      message={t.whatsapp.greeting}
      label={t.whatsapp.bookAppointment}
      locale={locale}
    />
  </div>
</section>
